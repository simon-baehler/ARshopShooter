<behaviortree version="1.1" repeatuntil="" name="Adam" debugbreak="False"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><detect sensor="&quot;eyes&quot;" repeatuntil="running" name="detect" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="moveTarget" aspectobjectvariable="" aspect="&quot;aCivil&quot;"></detect><detect sensor="&quot;eyes&quot;" repeatuntil="running" name="detect" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="varShooter" aspectobjectvariable="" aspect="&quot;aShooter&quot;"></detect><sequencer usepriorities="False" repeatuntil="running" name="sequencer" debugbreak="False"><selector usepriorities="False" repeatuntil="" priority="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="moveTarget != null" debugbreak="False" constraint="moveTarget != null"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="(global)" name="action" debugbreak="False" classname="checkPanic"></action><selector usepriorities="False" repeatuntil="" priority="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="targetPanic == true" debugbreak="False" constraint="targetPanic == true"><sequencer usepriorities="False" repeatuntil="" name="switch to helping" debugbreak="False"><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="state = &quot;Helping&quot;" debugbreak="False"></expression><expression returnvalue="success" repeatuntil="" priority="" name="expression" expression="speed = 4" debugbreak="False"></expression></sequencer></constraint></selector></sequencer></constraint><constraint repeatuntil="" priority="" name="searchCivilian" debugbreak="False" constraint="state == &quot;SearchCivilian&quot;"><action repeatuntil="" parametervalues="" parameters="" namespace="" name="action" debugbreak="False" classname="RandomWayPoint"></action><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><detect sensor="&quot;eyes&quot;" repeatuntil="success" name="detect" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="moveTarget" aspectobjectvariable="" aspect="&quot;aCivil&quot;"></detect><move turnspeed="" repeatuntil="" name="move" movetarget="target" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></parallel></constraint><constraint repeatuntil="" priority="" name="normal" debugbreak="False" constraint="state == &quot;Normal&quot;"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="varShooter != null" debugbreak="False" constraint="varShooter != null"><expression returnvalue="evaluate" repeatuntil="" name="expression" expression="state = &quot;SearchCivilian&quot;" debugbreak="False"></expression></constraint><constraint repeatuntil="" priority="" name="varShooter == null" debugbreak="False" constraint="varShooter == null"><action repeatuntil="" parametervalues="" parameters="" namespace="" name="action" debugbreak="False" classname="RandomWayPoint"></action><move turnspeed="" repeatuntil="" name="move" movetarget="target" movespeed="1" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><timer waitforsec="random(2,5)" returnvalue="success" name="timer" debugbreak="False"></timer></constraint></selector></constraint><constraint repeatuntil="" priority="" name="helping" debugbreak="False" constraint="state == &quot;Helping&quot;"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="moveTarget != null" debugbreak="False" constraint="moveTarget != null"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="(global)" name="action" debugbreak="False" classname="checkPanic"></action><selector usepriorities="False" repeatuntil="" priority="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="targetPanic == true" debugbreak="False" constraint="targetPanic == true"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><move turnspeed="" repeatuntil="" priority="" name="move" movetarget="moveTarget" movespeed="4" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><timer waitforsec="5" returnvalue="success" priority="" name="timer" debugbreak="False"></timer><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="(global)" name="action" debugbreak="False" classname="RassuringCivilian"></action><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="state = &quot;run&quot;" debugbreak="False"></expression></sequencer></constraint></selector></sequencer></constraint></selector></constraint><constraint repeatuntil="" priority="" name="run" debugbreak="False" constraint="state == &quot;Run&quot;"><sequencer usepriorities="False" repeatuntil="" name="run" debugbreak="False"><random repeatuntil="" priority="" name="random" debugbreak="False"><sequencer weight="" usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><random repeatuntil="" priority="" name="random" debugbreak="False"><move weight="" turnspeed="" repeatuntil="" name="move" movetarget="&quot;preESC2-1&quot;" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><move weight="" turnspeed="" repeatuntil="" name="move" movetarget="&quot;preESC2-2&quot;" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></random><expression returnvalue="success" repeatuntil="" priority="" name="expression" expression="moveESC = &quot;ESC2&quot;" debugbreak="False"></expression><move turnspeed="" repeatuntil="" priority="" name="move" movetarget="&quot;ESC2&quot;" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></sequencer><move weight="" turnspeed="" repeatuntil="" name="move" movetarget="&quot;preESC2&quot;" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><move weight="" turnspeed="" repeatuntil="" name="move" movetarget="&quot;preESC1&quot;" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><move weight="" turnspeed="" repeatuntil="" name="move" movetarget="&quot;preESC3&quot;" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></random><random repeatuntil="" priority="" name="random" debugbreak="False"><sequencer weight="" usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><expression returnvalue="success" repeatuntil="" priority="" name="expression" expression="moveESC = &quot;ESC&quot;" debugbreak="False"></expression><move turnspeed="" repeatuntil="" priority="" name="move" movetarget="&quot;ESC&quot;" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></sequencer><sequencer weight="" usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><expression returnvalue="success" repeatuntil="" priority="" name="expression" expression="moveESC = &quot;ESC1&quot;" debugbreak="False"></expression><move turnspeed="" repeatuntil="" priority="" name="move" movetarget="&quot;ESC1&quot;" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></sequencer></random></sequencer></constraint><constraint repeatuntil="" priority="" name="saved" debugbreak="False" constraint="state == &quot;Saved&quot;"><move turnspeed="" repeatuntil="" name="move" movetarget="moveESC" movespeed="speed" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></constraint></selector></sequencer></parallel></behaviortree>