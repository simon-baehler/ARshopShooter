<behaviortree version="1.1" repeatuntil="" name="shopShooter" debugbreak="False"><sequencer usepriorities="False" repeatuntil="" name="root" debugbreak="False"><selector usepriorities="False" repeatuntil="" priority="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="alife" debugbreak="False" constraint="state != &quot;Dead&quot;"><parallel tiebreaker="succeed" succeed="any" repeatuntil="" name="parallel" fail="all" debugbreak="False"><detect sensor="&quot;eyes&quot;" repeatuntil="" name="detect" matchtype="best" entityobjectvariable="varPlayer" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;aPlayer&quot;"></detect><detect sensor="&quot;eyes&quot;" repeatuntil="" name="detect" matchtype="best" entityobjectvariable="varCivil" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;aCivil&quot;"></detect><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="normal" debugbreak="False" constraint="state == &quot;normal&quot;"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="chasingMode == true &amp;&amp; follow != null"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="targetIsAlife == true"><move turnspeed="" repeatuntil="" name="move" movetarget="follow" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></constraint></sequencer></constraint><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="follow == null || targetIsAlife == false || chasingMode == false"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="varPlayer != null"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="nbrSeenPolice &lt; nbrSeenPoliceForSurr"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="nbrSeenPolice = nbrSeenPolice+1" debugbreak="False"></expression><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="state = &quot;hidding&quot;" debugbreak="False"></expression></sequencer></constraint></selector></constraint><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="varPlayer == null"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><parallel tiebreaker="fail" succeed="all" repeatuntil="" priority="" name="parallel" fail="any" debugbreak="False"><detect sensor="&quot;eyes&quot;" repeatuntil="running" name="detect" matchtype="best" entityobjectvariable="varCivil" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;aCivil&quot;"></detect><waypointpatrol waypointsetvariable="&quot;ShooterPatrol&quot;" waypointactiontype="patrol" traversetype="pingpong" traverseorder="forward" repeatuntil="" pathtargetvariable="" name="waypointpatrol" movetargetvariable="varMove" debugbreak="False"><move turnspeed="" repeatuntil="" name="move" movetarget="varMove" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></waypointpatrol></parallel></sequencer></constraint></selector></constraint></selector></constraint><constraint repeatuntil="" priority="" name="stopped" debugbreak="False" constraint="state == &quot;stopped&quot;"><expression returnvalue="evaluate" repeatuntil="" name="expression" expression="speed = 0.0" debugbreak="False"></expression></constraint><constraint repeatuntil="" priority="" name="arrested" debugbreak="False" constraint="state == &quot;arrested&quot;"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><detect sensor="&quot;follow&quot;" repeatuntil="" priority="" name="detect" matchtype="best" entityobjectvariable="varPlayer2" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;aPlayer&quot;"></detect><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="speed = 2" debugbreak="False"></expression><move turnspeed="" repeatuntil="" priority="" name="move" movetarget="varPlayer2" movespeed="2" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="speed = 0.0" debugbreak="False"></expression></sequencer></constraint><constraint repeatuntil="" priority="" name="hidded" debugbreak="False" constraint="state == &quot;hidded&quot;"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><detect sensor="&quot;eyes&quot;" repeatuntil="" priority="" name="detect" matchtype="best" entityobjectvariable="varPlayer" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;aPlayer&quot;"></detect><selector usepriorities="False" repeatuntil="" priority="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="varPlayer != null"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="nbrSeenPolice &gt;= nbrSeenPoliceForSurr"><expression returnvalue="evaluate" repeatuntil="" name="expression" expression="state = &quot;stopped&quot;" debugbreak="False"></expression></constraint><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="nbrSeenPolice &lt; nbrSeenPoliceForSurr"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="nbrSeenPolice = nbrSeenPolice+1" debugbreak="False"></expression><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="state = &quot;hidding&quot;" debugbreak="False"></expression></sequencer></constraint></selector></constraint></selector></sequencer></constraint><constraint repeatuntil="" priority="" name="hidding" debugbreak="False" constraint="state == &quot;hidding&quot;"><random repeatuntil="" name="random" debugbreak="False"><sequencer weight="" usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><move turnspeed="" repeatuntil="success" priority="" name="move" movetarget="&quot;hidding1&quot;" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="state = &quot;hidded&quot;" debugbreak="False"></expression></sequencer><sequencer weight="" usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><move turnspeed="" repeatuntil="success" priority="" name="move" movetarget="&quot;hidding2&quot;" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="state = &quot;hidded&quot;" debugbreak="False"></expression></sequencer><sequencer weight="" usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><move turnspeed="" repeatuntil="success" priority="" name="move" movetarget="&quot;hidding3&quot;" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="state = &quot;hidded&quot;" debugbreak="False"></expression></sequencer></random></constraint></selector></parallel></constraint><constraint repeatuntil="" priority="" name="dead" debugbreak="False" constraint="state == &quot;Dead&quot;"></constraint><constraint repeatuntil="" priority="" name="constraint" debugbreak="False" constraint="state == &quot;caught&quot;"></constraint></selector></sequencer></behaviortree>